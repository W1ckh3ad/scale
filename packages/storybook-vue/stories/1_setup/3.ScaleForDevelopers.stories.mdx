import {
  Meta,
  Story,
  Props,
  Preview,
  Description,
} from "@storybook/addon-docs/blocks";

<Meta title="Getting Started/Scale for Developers" />

![Scale for Developers](/assets/Scale-for-developers.png)
Scale provides front-end developers & engineers a collection of reusable web components to build websites and user interfaces in major frontend frameworks like Vue, React, Angular and HTML.

Adopting the Scale design system enables developers to use consistent markup, styles, and behavior in prototype and production work.

## Setting things up

This repository uses `lerna` and `typescript`

### Package overview
|Package name       |Description|
|---                |---|
|components         |Stencil components|
|components-react   |Component proxies for React (auto-generated)|
|components-vue     |Component proxies for Vue|
|config             |Shared configuration across packages|
|gatsby-plugin      |Plugin to enable SSR for Gatsby apps|
|nuxt-module        |Plugin to enable SSR for Nuxt apps|
|storybook-vue      |Vue version of scale's storybook and docs|

## Running locally

### 1. Clone this repository to a local folder of your choice

```bash
cd path-to/folder-name
git clone git@github.com:telekom/scale.git
cd scale
```

### 2. Install dependencies

Before you install any packages, make sure you are logged into your npm account locally.
You will also need to be part of the scaleds organization on npm.
(if you need an invitation please send an email to Egor egor.kirpichev@telekom.de)

To login to npm use the following command and follow the instructions.
```
npm login
```

This repository uses `yarn lerna`, for the symlinks to work correctly we use `yarn` in favour of `npm`

```bash
yarn bootstrap
```

### 3. Build packages

```bash
# build
yarn build
```

## NPM Registry

As stated above you need to be part of the @scaleds
organization on npm (npmjs.org) in order to be able to install and use our packages.

If you are not part of the @scaleds organization on npm, please send Egor an
e-mail requesting an invitation. egor.kirpichev@telekom.de

Thank you.

## App Development

For App development using the Scale components, the only thing you need is to be logged in on npm via the terminal.

To log in please issue the following command:

```bash
npm login
```

and follow the prompt's instructions.

If all went well, you should be able to install any @scaleds/\* package into your project.

## CI

Regardless of what CI platform / tech / service you use, the system will also
need to be able to access the @scaleds/\* packages used in your application.

For this you will need three things.

1. Be part of the @scaleds organization on npm.
2. An authorization token issued by one of the @scalds organization's owners.
3. An .npmrc file referencing the auth token which should ideally be securely stored in an ENV variable.

> INFO: This may vary depending on your CI Pipeline

### .npmrc

This file is used to easily constrain a set of npm related configurations to a project.
In this case we use it to set up the authorisation token so the system can access the packages without a particular user having to be logged in.

_Example:_

```bash
# CI $ENV
#
# ENV variable defined securely somewhere in your CI service/system
# name: $NPM_TOKEN
# value: 52E34D4314AF486C535D5A29CA9E252E34D4314AF486C535D5A29CA9E252E34D4314AF486C535D5A29CA9E2
#
# The value should be the Auth token you got from the @scaleds organisation owner!!!
#


#.npmrc

registry=https://registry.npmjs.org/
//registry.npmjs.org/:_authToken=$NPM_TOKEN
//registry.npmjs.org/:always-auth=true

```

> WARNING: The use of an ENV variable is indispensable since you don't want any sensitive information stored inside the .npmrc file which could be accidentally pushed to the repository for others to see!

With this setup the system will be able to login itself to npm and gain access to the packages.
In case you need any help, dont't hesitate in contacting us.
