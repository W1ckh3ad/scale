import { Meta, Story, Props, Preview, Description } from '@storybook/addon-docs/blocks';
import { action } from "@storybook/addon-actions";
import ScaleSwitch from './ScaleSwitch.vue';
import description from './switch.md';

<Meta
  title="Components/Switch"
  component={ScaleSwitch}
  argTypes={{
    styles: {
      control: {disable: true}
    }
  }}
/>

export const Template = (args, {argTypes}) => ({
  components: {ScaleSwitch},
  props: ScaleSwitch.props,
  template: `
    <scale-switch
      :custom-class="customClass"
      :disabled="disabled"
      :input-id="inputId"
      :checked="isChecked"
      @scaleChange="scaleChange"
    >
    </scale-switch>
  `,
  methods: {
    scaleChange: function() {
      this.isChecked=!this.isChecked;
      action('scaleChange')();
    },
  },
  data: function() {
    return { isChecked: this.checked }
  },
  watch: {
    checked: function (newChecked) {
      this.isChecked = newChecked;
    }
  },
})

<Description>{description}</Description>

<Preview withSource="none">
  <Story
    name="Standard"
  >
    {Template.bind({})}
  </Story>
</Preview>

<Props story="Standard"/>


## Standard disabled

<Preview withSource="none">
  <Story
    name="Standard disabled"
    args={{
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

```html
<scale-switch disabled @scaleChange="handleChange"></scale-switch>
```


## Selected

<Preview withSource="none">
  <Story
    name="Selected"
    args={{
      checked: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

```html
<scale-switch checked @scaleChange="handleChange"></scale-switch>
```


## Selected disabled

<Preview withSource="none">
    <Story
      name="Selected disabled"
      args={{
        disabled: true,
        checked: true,
      }}
    >
      {Template.bind({})}
    </Story>
</Preview>

```html
<scale-switch disabled checked @scaleChange="handleChange"></scale-switch>
```
