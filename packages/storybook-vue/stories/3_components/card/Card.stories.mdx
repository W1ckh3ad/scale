import { Meta, Story, ArgsTable, Canvas, Description } from '@storybook/addon-docs/blocks';
import ScaleCard from './ScaleCard.vue';

<!--
  ðŸ‘€

  We're missing two key things from Stencil's docs in the generated readme file:
  - whether attributes are optional or required
  - any description for those attributes
  - plus, writing them again in the .vue file can be error-prone.

  Other minor pain-points:
  - writing the code-snippet manually, need to make sure attribute/values match
  - declaring all props both in Template and the <template> of the .vue file

  Two more thing to think about:
  - in the end there's nothing Vue-specific in the stories, only for us devs, no?
    al least until the code snippet in the Canvas works as expected and doesn't show `Template.bind()`
  - we're not using the Vue output target package (it's not really useful in Storybook)
-->

<Meta
  title='Components/Card'
  component={ScaleCard}
  argTypes={{
    label: {
      control: { type: 'text' }
    },
    styles: {
      control: { disable: true }
    }
  }}
/>

export const Template = (args, { argTypes }) => ({
  components: { ScaleCard },
  props: {
    slot: String,
    ...ScaleCard.props
  },
  template: `
    <div :style="{ maxWidth: slot.startsWith('<div') ? '300px'  : 'auto' }">
        <scale-card
              :custom-class="customClass"
              :to="to"
              :target="target"
              :label="label"
              :rel="rel"
              :styles="JSON.stringify(styles)"
            >
                <div v-if="slot.startsWith('<div')">
                    <div style="margin: -24px;">
                      <img style="margin-bottom: -4px; width:100%;" src="assets/card-grayscale.jpeg" alt="placeholder" />
                      <div style="padding: 24px;">A card with a full width image</div>
                    </div>
                </div>
                <div v-if="!slot.startsWith('<div')">
                  {{ slot }}
                </div>
        </scale-card>
    </div>
  `
})

# Card

## Standard

<Canvas withSource="none">
  <Story
    name='Standard'
    args={{
        slot: 'A card',
        label: 'Example Card',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story='Standard' />

## With Link

<Canvas withSource="none">
  <Story
    name='With Link'
    args={{
      slot: 'A card with a link to example.com',
      label: 'Example Card',
      to: 'https://example.com',
      target: '_blank',
      rel: 'noopener noreferrer'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<scale-card to="https://example.com" to="_blank" target="_blank" rel="noopener noreferrer" label="Example Card">A card with a link to example.com</scale-card>
```


## With Image

<Canvas withSource="none">
  <Story
    name='With Image'
    args={{
      slot: `<div style="margin: -24px;">
        <img style="margin-bottom: -4px; width:100%;" src="https://placeimg.com/200/200/tech/grayscale" alt="placeholder" />
        <div style="padding: 24px;">A card with a full width image</div>
      </div>
      `,
      label: 'Example Card',
      to: 'https://example.com',
      target: '_blank',
      rel: 'noopener noreferrer'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<div style="max-width: 200px;">
  <scale-card to="https://example.com" target="_blank">
    <div style="margin: -24px;">
      <img style="margin-bottom: -4px; width:100%;" src="https://via.placeholder.com/150" alt="placeholder" />
      <div style="padding: 24px;">A card with a full width image</div>
    </div>
  </scale-card>
</div>
```
